var __pageCacheObj = []
  , clipJs = {
    Security: {
        CheckComplexLevel: function(n, t, i, r, u, f, e, o) {
            var s = n ? !0 : !1, h;
            if (s && t && (s = n.length >= t),
            s && i && (s = n.length <= i),
            s && r && (s = /[A-Z]/.test(n)),
            s && u && (s = /[a-z]/.test(n)),
            s && f && (s = /[0-9]/.test(n)),
            s && e && (s = /\b[a-zA-Z0-9]/.test(n)),
            s && o)
                for (h = 0; h < o.length - 2; h++)
                    if (n.indexOf(o.substring(h, h + 3)) != -1 && (s = !1),
                    !s)
                        break;
            return s
        }
    },
    Cache: {
        Get: function(n, t) {
            var r = n + JSON.stringify(t)
              , i = _.findWhere(__pageCacheObj, {
                key: r
            });
            return !i || i.expire < new Date ? null : i.value
        },
        Set: function(n, t, i, r) {
            var f = n + JSON.stringify(t), u = new Date, e;
            u.setSeconds(u.getSeconds() + r);
            e = {
                key: f,
                value: i,
                expire: u
            };
            __pageCacheObj = _.reject(__pageCacheObj, function(n) {
                return n.key == f
            });
            __pageCacheObj.push(e)
        }
    },
    Validation: {
        SomeChecked: function(n) {
            var i = $("[name='" + n + "']")
              , t = !1;
            return i.each(function() {
                this.checked && (t = !0)
            }),
            t
        },
        IsEmail: function(n) {
            var t = new RegExp(/^[0-9a-zA-Z]([-_\.0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i);
            return t.test(n) || n == "" || n == null
        },
        IsValidId: function(n) {
            var t = new RegExp(/^[a-z][0-9a-z]{5,14}/g);
            return t.test(n)
        },
        FileTypeCheck: function(n, t) {
            return t || (t = "ALL"),
            this.FileExtCheck(n, this.GetFileTypeExt(t))
        },
        GetFileTypeExt: function(n) {
            switch (n.toUpperCase()) {
            case "IMAGE":
                return "jpg,png,gif,jpeg,ico,bmp";
            case "FLASH":
                return "fla,swf";
            case "MOVIE":
                return "mpg,mpeg,wmv,avi,asf,mp4";
            case "DOCUMENT":
                return "doc,docx,txt,xls,xlsx,ppt,pptx,hwp,hwpx";
            default:
                return "jpg,png,gif,jpeg,ico,bmp,fla,swf,mpg,mpeg,wmv,avi,asf,mp4,doc,docx,txt,xls,xlsx,ppt,pptx,hwp,hwpx,zip,rar,alz,z7,exe"
            }
        },
        FileExtCheck: function(n, t) {
            if (!n)
                return !0;
            var r = t.split(",")
              , u = !1;
            for (i = 0; i < r.length; i++)
                n.split(".")[n.split(".").length - 1].toUpperCase() == r[i].toUpperCase() && (u = !0);
            return u
        },
        IsJumin: function(n, t) {
            var u, e, f, i, o;
            if (n.length != 6 || t.length != 7)
                return !1;
            for (u = 0,
            i = 0; i < n.length; i++)
                e = n.substring(i, i + 1),
                (e < "0" || e > "9") && (u = u + 1);
            if (n == "" || u != 0)
                return !1;
            for (f = 0,
            i = 0; i < t.length; i++)
                o = t.substring(i, i + 1),
                (o < "0" || o > "9") && (f = f + 1);
            if (t == "" || f != 0 || n.substring(2, 3) > 1 || n.substring(4, 5) > 3 || t.substring(0, 1) > 4 || t.substring(0, 1) == 0)
                return !1;
            var s = n.substring(0, 1)
              , h = n.substring(1, 2)
              , c = n.substring(2, 3)
              , l = n.substring(3, 4)
              , a = n.substring(4, 5)
              , v = n.substring(5, 6)
              , r = s * 2 + h * 3 + c * 4 + l * 5 + a * 6 + v * 7
              , y = t.substring(0, 1)
              , p = t.substring(1, 2)
              , w = t.substring(2, 3)
              , b = t.substring(3, 4)
              , k = t.substring(4, 5)
              , d = t.substring(5, 6)
              , g = t.substring(6, 7)
              , r = r + y * 8 + p * 9 + w * 2 + b * 3 + k * 4 + d * 5;
            return (r = r % 11,
            r = 11 - r,
            r = r % 10,
            r != g) ? !1 : !0
        },
        ClearHtml: function(n) {
            $(n).val($(n).val().replace(/</g, "&lt;").replace(/>/g, "&gt;"))
        }
    },
    Form: {
        CheckAllName: function(n, t) {
            t || (t = $(n).attr("name"));
            var i = n.checked;
            $("[name=" + t + "]").each(function() {
                this.checked = i == !0 || i == !1 ? i : !this.checked
            })
        },
        CheckAllClass: function(n, t) {
            t || (t = $(n).attr("name"));
            var i = n.checked;
            $("." + t).each(function() {
                this.checked = i == !0 || i == !1 ? i : !this.checked
            })
        }
    },
    Cookie: {
        GetCookieObj: function() {
            for (var f, u, i, s = document.cookie, r = s.split(";"), t = "{", n = 0; n < r.length; n++)
                if (r[n].indexOf("=") != -1) {
                    t += n == 0 || t == "{" ? "" : ",";
                    var o = r[n].split("=")
                      , h = $.trim(o[0].replace(":", ""))
                      , e = "";
                    for (f = 1; f <= o.length; f++)
                        e += f == 1 ? "" : "=",
                        e += o[f];
                    if (e.indexOf("&") != -1) {
                        for (t += '"' + h + '" : {',
                        u = e.split("&"),
                        i = 0; i < u.length; i++)
                            t += i == 0 ? "" : ",",
                            t += '"' + $.trim(u[i].substring(0, u[i].indexOf("=")).replace(":", "_")) + '" : "' + u[i].substring(u[i].indexOf("=") + 1, u[i].length) + '"';
                        t += "}"
                    } else
                        t += '"' + $.trim(r[n].substring(0, r[n].indexOf("=")).replace(":", "_")) + '" : "' + r[n].substring(r[n].indexOf("=") + 1, r[n].length) + '"'
                }
            return t += "}",
            $.parseJSON(t)
        },
        GetCookie: function(name, key) {
            var cookie = this.GetCookieObj(), returnStr;
            try {
                return key ? eval("cookie." + name + "." + key) : (returnStr = eval("cookie." + name),
                returnStr || (returnStr = eval("cookie." + location.host.replace(/[:\.]/gi, "_").replace(/:/gi, "") + "." + name)),
                returnStr)
            } catch (e) {
                return ""
            }
        },
        SetCookie: function(n, t, i, r) {
            var u = new Date;
            u.setDate(u.getDate() + i);
            r > 0 && u.setMinutes(u.getMinutes() + r);
            document.cookie = n + "=" + escape(t) + "; path=/; expires=" + u.toGMTString() + ";"
        },
        SetServerCookie: function(n, t, i, r, u) {
            $.ajax({
                url: "/Global/SetJsCookie",
                async: !1,
                data: {
                    name: n,
                    key: t,
                    value: i,
                    expireDays: r,
                    expireMinutes: u
                }
            })
        },
        DelServerCookie: function(n, t) {
            $.ajax({
                url: "/Global/DelJsCookie",
                async: !1,
                data: {
                    name: n,
                    key: t
                }
            })
        },
        GetServerCookie: function(n, t) {
            var i = "";
            return $.ajax({
                url: "/Global/GetJsCookie",
                async: !1,
                dataType: "text",
                data: {
                    name: n,
                    key: t
                },
                success: function(n) {
                    i = n
                }
            }),
            i
        }
    },
    Utilities: {
        LayerPop: function(n, t, i, r, u) {
            var e = $("#__clipJsLayerPopDimmingLayer_" + n), f;
            e.length == 0 ? (e = $("<div id='__clipJsLayerPopDimmingLayer_" + n + "' />"),
            e.css({
                position: "absolute",
                top: "0px",
                left: "0px",
                width: $(document).width(),
                height: $(document).height(),
                display: "none",
                zIndex: (new Date).getTime() % 1e8
            }),
            e.appendTo("body")) : e.css("zIndex", (new Date).getTime() % 1e8);
            r ? e.css("backgroundColor", r) : e.css("backgroundColor", "#000000");
            f = $("#" + n);
            f.addClass("__clipJsLayerPopObj");
            f.appendTo("body");
            f.css({
                zIndex: ((new Date).getTime() + 1) % 1e8,
                position: "fixed"
            });
            f.css({
                left: $(window).width() / 2 - f.width() / 2,
                top: $(window).height() / 2 - f.height() / 2
            });
            i && (i.left == undefined || isNaN(i.left) || f.css("left", i.left + "px"),
            i.top == undefined || isNaN(i.top) || f.css("top", i.top + "px"));
            u != !1 && e.click(function() {
                clipJs.Utilities.CloseLayerPop(f.attr("id"))
            });
            e.fadeTo(0, .3);
            f.fadeIn(0, t);
            e.bind("checkResize", function() {
                $("#__clipJsLayerPopDimmingLayer_" + n).css({
                    width: $(document).width(),
                    height: $(document).height()
                })
            });
            setInterval("$('#__clipJsLayerPopDimmingLayer_" + n + "').trigger('checkResize')", 1e3)
        },
        CloseLayerPop: function(n, t) {
            n ? $("#__clipJsLayerPopDimmingLayer_" + n).hide(0, function() {
                $("#" + n).fadeOut(0, function() {
                    $(this).find("iframe").attr("src", "about:blank");
                    t
                })
            }) : $(".__clipJsLayerPopObj").each(function() {
                var n = $(this).attr("id");
                $("#__clipJsLayerPopDimmingLayer_" + n).hide(0, function() {
                    $("#" + n).fadeOut(0, function() {
                        $(this).find("iframe").attr("src", "about:blank");
                        t
                    })
                })
            })
        },
        MessageBox: function(n, t, i, r) {
            $(".jsModalPop").dialog("close");
            var u = $('<div class="jsModalPop" />');
            return t && u.attr("title", t),
            u.html(n),
            u.appendTo("body"),
            i || (r = {
                "확인": function() {
                    $(this).dialog("close")
                }
            }),
            u.dialog({
                modal: !0,
                resizable: !1,
                closeText: "X",
                buttons: r
            }),
            u
        },
        CloseMessageBox: function() {
            $(".jsModalPop").dialog("close")
        },
        FitWindowSizeToContent: function(n, t) {
            var i = $(self).width()
              , r = $(self).height()
              , u = n ? n : $(document).width()
              , f = t ? t : $(document).height();
            self.resizeBy(u - i, f - r)
        },
        CheckPopupDenied: function(n) {
            var t = window.open("about:blank;", "popBlockTest", "width=1, height=1, left=99999, top=99999");
            t ? t.close() : alert(n)
        },
        OpenLoading: function(n) {
            n || (n = ".jsAjaxContainer");
            var t = $(n);
            t.each(function() {
                var n, t, i;
                $(this).height() == 0 && ($(this).addClass("jsLoadingMinHeight"),
                $(this).attr("data-SetHeightForLoadingAction", "1"));
                n = $(document.createElement("div"));
                n.appendTo(this);
                this.__loadingLayer || (this.__loadingLayer = []);
                this.__loadingLayer.push(n);
                t = $(this).width();
                i = $(this).height();
                $(n).css({
                    position: "absolute",
                    top: "0px",
                    left: "0px",
                    width: t,
                    height: i,
                    display: "none",
                    zIndex: 1e8,
                    backgroundColor: "white",
                    overflow: "hidden"
                });
                n.html('<img src="http://commonfile.clipservice.co.kr/Library/woongs/images/loading.gif" style="margin-top:' + (i / 2 - 25) + "px; margin-left:" + (t / 2 - 25) + 'px;" />');
                n.fadeTo(0, .7)
            })
        },
        CloseLoading: function(n) {
            n || (n = ".jsAjaxContainer");
            var t = $(n);
            t.each(function() {
                $(this).attr("data-SetHeightForLoadingAction") == "1" && ($(this).removeClass("jsLoadingMinHeight"),
                $(this).attr("data-SetHeightForLoadingAction", "1"));
                this.__loadingLayer && _.each(this.__loadingLayer, function(n) {
                    $(n).remove()
                })
            })
        }
    },
    Const: {
        isDev: !1,
        StoragePath: "http://" + (location.host.indexOf("test-") != -1 ? "test-" : "") + "commonfile.clipservice.co.kr",
        CoreStoragePath: "http://" + (location.host.indexOf("test-") != -1 ? "test-" : "") + "file.clipservice.co.kr"
    }
};
String.prototype.CutString = function(n, t, r) {
    var u = this
      , f = ""
      , e = 0
      , o = u.length;
    if (t || t == "" || (t = ".."),
    r || (r = "byte"),
    r == "byte")
        for (i = 0; i < o; i++) {
            if (e += u.charAt(i).GetBytes(),
            e > n) {
                i < u.length && (f += t);
                break
            }
            f += u.charAt(i)
        }
    else
        f = u.substring(0, n) + (u.length > n ? t : "");
    return f
}
;
String.prototype.GetBytes = function() {
    var r = this, t = 0, i, n;
    if (r == null)
        return 0;
    for (i = 0; i < r.length; i++)
        n = escape(r.charAt(i)),
        n.length == 1 ? t++ : n.indexOf("%u") != -1 ? t += 2 : n.indexOf("%") != -1 && (t += n.length / 3);
    return t
}
;
String.prototype.ReplaceDoubleQuoteToHtml = function() {
    return this.replace('"', "&quote;")
}
;
String.prototype.ReplaceWildcardChar = function(n) {
    var t = this;
    return n && _.each(n, function(n) {
        switch (n) {
        case "'":
            t = t.replace(/'/g, "\\'");
            break;
        case '"':
            t = t.replace(/"/g, '\\"');
            break;
        case "\\":
            t = t.replace(/\\/g, "\\\\")
        }
    }),
    t
}
;
Number.prototype.ToFixedLength = function(n, t, i) {
    var f = this, r, u;
    if (t || (t = "0"),
    r = f.toString(),
    r.length >= n)
        return r;
    for (u = r.length; u < n; u++)
        i != !1 ? r = t + r : r += t;
    return r
}
;
Number.prototype.ToMoneyStyle = function() {
    var n = this, r = n < 0, t;
    for (n = Math.abs(n).toString(),
    t = "",
    i = 0; i < n.length; i++)
        (n.length - i) % 3 == 0 && i != 0 && (t += ","),
        t += n.substring(i, i + 1);
    return (r ? "-" : "") + t
}
;
String.prototype.JsonToDate = function() {
    var expr = this;
    return expr == null ? null : eval("new " + expr.replace(/\//g, ""))
}
;
String.prototype.JsonToKorDate = function() {
    var expr = this, time, correctionValue;
    return expr == null ? null : (time = eval("new " + expr.replace(/\//g, "")),
    correctionValue = 540 + (new Date).getTimezoneOffset(),
    time.setMinutes(time.getMinutes() + correctionValue),
    time)
}
;
Date.prototype.GetYYMD = function(n) {
    var t = this;
    return t ? (n || n == "" || (n = "."),
    t.getFullYear() + n + (t.getMonth() + 1).ToFixedLength(2, "0") + n + t.getDate().ToFixedLength(2, "0")) : ""
}
;
Date.prototype.GetWeekday = function(n, t) {
    var r = this
      , i = r.getDay();
    if (n || (n = "kr"),
    n == "kr")
        switch (i) {
        case 0:
            return t ? "일요일" : "일";
        case 1:
            return t ? "월요일" : "월";
        case 2:
            return t ? "화요일" : "화";
        case 3:
            return t ? "수요일" : "수";
        case 4:
            return t ? "목요일" : "목";
        case 5:
            return t ? "금요일" : "금";
        case 6:
            return t ? "토요일" : "토"
        }
    else if (n == "en")
        switch (i) {
        case 0:
            return t ? "Sunday" : "Sun";
        case 1:
            return t ? "Monday" : "Mon";
        case 2:
            return t ? "Tuesday" : "Tue";
        case 3:
            return t ? "Wednesday" : "Wed";
        case 4:
            return t ? "Thursday" : "Thu";
        case 5:
            return t ? "Friday" : "Fri";
        case 6:
            return t ? "Saturday" : "Sat"
        }
    else if (n == "chn")
        switch (i) {
        case 0:
            return "日";
        case 1:
            return "月";
        case 2:
            return "火";
        case 3:
            return "水";
        case 4:
            return "木";
        case 5:
            return "金";
        case 6:
            return "土"
        }
}
;
Date.prototype.GetHm = function(n) {
    var i = this;
    if (!i)
        return "";
    var t = i.getHours()
      , r = i.getMinutes();
    return t = n == !0 ? (t >= 12 ? "오후 " : "오전 ") + (t > 12 ? t - 12 : t).ToFixedLength(2, 0) : t.ToFixedLength(2, 0),
    r = r.ToFixedLength(2, 0),
    t + ":" + r
}
;
Date.prototype.ToDateTimeString = function(n) {
    var i = this.getFullYear()
      , r = i % 100
      , u = this.getMonth() + 1
      , f = this.getDate()
      , t = this.getHours()
      , e = this.getMinutes()
      , o = this.getSeconds()
      , s = this.GetWeekday();
    return n.replace(/yyyy/g, i).replace(/yy/g, r).replace(/MM/g, u.ToFixedLength(2, "0")).replace(/ddd/g, s).replace(/dd/g, f.ToFixedLength(2, "0")).replace(/tt/g, t >= 12 ? "오후" : "오전").replace(/hh/g, (t == 12 ? 12 : t % 12).ToFixedLength(2, "0")).replace(/HH/g, t.ToFixedLength(2, "0")).replace(/mm/g, e.ToFixedLength(2, "0")).replace(/ss/g, o.ToFixedLength(2, "0"))
}
;
Date.prototype.ToKorDate = function() {
    var n = 540 + (new Date).getTimezoneOffset();
    return this.setMinutes(this.getMinutes() + n),
    this
}
;
Date.prototype.toLocaleDate = function(n) {
    var t = n + (new Date).getTimezoneOffset();
    return this.setMinutes(this.getMinutes() + t),
    this
}
;
$(document).ready(function() {
    $("form").each(function() {
        var n = this
          , t = $(n).find(".jsSubmitObj");
        t.each(function() {
            this.nodeName.toLowerCase() == "input" && $(this).attr("type") != "checkbox" && $(this).attr("type") != "radio" || this.nodeName.toLowerCase() == "textarea" ? ($(this).bind("keydown", function(t) {
                t.which == 13 && (t.preventDefault(),
                $(n).trigger("submit"))
            }),
            $(this).attr("readonly") && $(this).bind("change", function() {
                $(n).trigger("submit")
            })) : this.nodeName.toLowerCase() == "select" ? $(this).bind("change", function() {
                $(n).trigger("submit")
            }) : this.nodeName.toLowerCase() == "input" && ($(this).attr("type") == "checkbox" || $(this).attr("type") == "radio") ? $(this).click(function() {
                $(n).trigger("submit")
            }) : $(this).bind("click", function() {
                return $(n).trigger("submit"),
                !1
            })
        })
    });
    $("input").each(function() {
        var funcName = this.getAttribute("returnfunc");
        funcName && $(this).keyup(function(e) {
            e.keyCode == 13 && eval(funcName + "()")
        })
    });
    Modernizr.touch && $("area").bind("tap", function(n) {
        $(this).trigger("click");
        n.preventDefault()
    });
    $("a").each(function() {
        $(this).attr("href") || $(this).css("cursor", "pointer")
    })
});
